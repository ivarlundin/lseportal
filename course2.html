<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Course 2</title>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <img id="siteLogo" src="sauna portal.png">
            <div class="user-profile">
                <div class="profile-info">
                    <span class="username">User Name</span>
                    <span class="nickname">NickName</span>
                </div>
                <img src="avatar-0.png">
            </div>
        </div>
        <div class="nav-elements">
            <ul>
                <li><a href="index.html" class="">Back to home</a></li>
            </ul>
        </div>
    </li>
    </nav>
    <!-- Your course content here -->

    <div class="main-content">
        <!-- Banner/Dashboard Section -->
        <header class="tile">
            <div class="courseTitle">
                <h1>Kurs 2 - Eldning 101</h1>
                <img id="courseComplete" class="" src="checkmark.jpg">
            </div>
        </header>

        <div class="courseStep active">
            <h2>Videokurs</h2>
            <p>Du kommer nu få att se ett videoklipp där du kommer få lära dig:</p>
            <ul>
                <li>Grunderna i eldning</li>
                <li>Säkerhet vid eldning</li>
                <li>Tips & tricks</li>
            </ul>
            <p>
                Klicka på "forsätt" för att se videon.
            </p>
        
            <br>
            <button onclick="videoTimeout()">Forsätt</button>
        </div>

        <div class="courseStep">
            <h2>Videokurs</h2>

            <iframe width="560" height="315" src="https://www.youtube.com/embed/KXHmfVsB524?si=4cpanPHDPNMSjSFc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

            <br>
            <br>
            <button id="videoTimeOut" onclick="">Forsätt</button>

        </div>

        <div class="courseStep">
            <h2>Quiz</h2>
            <form id="quizForm">
                <div class="question">
                    <p>Hur tänder vi kaminen?</p>
                    <label><input type="radio" name="q1" value="a"> Kolla ventiler är stängda, bygg ett cirkulärt lager med ved och tändkuddarna bredvid</label><br>
                    <label><input type="radio" name="q1" value="b"> Placera vedträn luftigt, tänd först på de största vedklabbarna och släng in tidningspapper vid behov</label><br>
                    <label><input type="radio" name="q1" value="c"> Öppna ventiler, bygg fyrkantiga lager och tänd på tändkuddar under översta vedlagret.</label><br>
                </div>
                <div class="question">
                    <p>Vilket flöde av förbränningsluft vill vi ha?</p>
                    <label><input type="radio" name="q2" value="a"> Mycket -> Lågt -> Mer vid glöd</label><br>
                    <label><input type="radio" name="q2" value="b"> Lågt -> Medium -> Mycket</label><br>
                    <label><input type="radio" name="q2" value="c"> Mycket -> Lågt -> Inget</label><br>
                </div>
                <div class="question">
                    <p>Vilket av följande är god förberedelse för en eldning?</p>
                    <label><input type="radio" name="q3" value="a"> Lövved, 20 st stora klabbar och ett elddon</label><br>
                    <label><input type="radio" name="q3" value="b"> Barrved, 15 mindre klabbar och tändvätska</label><br>
                    <label><input type="radio" name="q3" value="c"> Lövved, blandade storlekar av klabbar och tändkuddar/tändstickor</label><br>
                </div>
                <div class="question">
                    <p>Vad indikerar bra eldning och ventilation?</p>
                    <label><input type="radio" name="q4" value="a"> Tydlig rökdoft i bastun, svaga gula lågor</label><br>
                    <label><input type="radio" name="q4" value="b"> Svag rökdoft, kraftfulla röda lågor och en känsla av syre</label><br>
                    <label><input type="radio" name="q4" value="c"> Liten till ej märkbar rökdoft, kraftfulla gula lågor</label><br>
                </div>
                <br>
                <button type="button" onclick="checkAnswers()">Svara</button>
            </form>
        </div>

        <div class="courseStep">
            <h2>Grattis</h2>

            <p>
            Stort tack för att du deltog i vår onlinekurs på SaunaPortal! Vi hoppas att du haft en fantastisk upplevelse och lärt dig mycket om bastukulturens djup och hemligheter.
            <br>
            <br>
            Vi ser fram emot att välkomna dig tillbaka för fler kurser och upplevelser framöver.
            <br>
            <br>
            Med varma hälsningar,
            <br>
            Teamet på SaunaPortal
            </p>
            <button id="completeCourseButton" onclick="completeCourse(2)">Complete Course</button>
        </div>
    </div>

    <script src="course.js"></script>
    <script src="app.js"></script>
    <script>
        function videoTimeout() {
            nextStep();
            // Set a timeout to add the 'active' class to the #videoTimeOut element after 25 minutes
            setTimeout(function() {
                document.getElementById('videoTimeOut').classList.add('active');
            
                // Add the onclick attribute to the button to trigger nextStep
                document.getElementById('videoTimeOut').onclick = nextStep;
            }, 96000); // 1500000 milliseconds = 25 minutes
        }

        // Define the correct answers in an object
        const correctAnswers = {
            q1: "c",
            q2: "a",
            q3: "c",
            q4: "c"
        };

        function checkAnswers() {
            // Retrieve selected answers
            var q1 = document.querySelector('input[name="q1"]:checked');
            var q2 = document.querySelector('input[name="q2"]:checked');
            var q3 = document.querySelector('input[name="q3"]:checked');
            var q4 = document.querySelector('input[name="q4"]:checked');
            
            // Check if all questions are answered
            if (q1 && q2 && q3 && q4) {
                // Check answers against correctAnswers object
                if (q1.value === correctAnswers.q1 &&
                    q2.value === correctAnswers.q2 &&
                    q3.value === correctAnswers.q3 &&
                    q4.value === correctAnswers.q4) {
                    // All answers are correct, call completeCourse()
                    nextStep();
                } else {
                    // Answers are incorrect
                    alert("Några av svaren var fel. Testa igen! :)");
                }
            } else {
                // Not all questions are answered
                alert("Svara på alla frågor, testa igen! :)");
            }
        }

    </script>
</body>
</html>